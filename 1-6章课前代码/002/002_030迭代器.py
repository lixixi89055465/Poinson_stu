from typing import Iterator
# 迭代器是一种对象，它允许你逐个访问集合（如列表、元组、字典等）中的元素，而不需要提前将整个集合加载到内存中。迭代器提供了一种统一的方式来遍历不同类型的集合，使得代码更加通用和灵活。
# 迭代器协议
# 在 Python 中，一个对象要成为迭代器，必须实现两个特殊方法，这两个方法构成了迭代器协议：
# __iter__() 方法：该方法返回迭代器对象本身。当你使用 for 循环或其他迭代操作时，首先会调用这个方法来获取迭代器。
# __next__() 方法：该方法返回迭代器的下一个元素。如果没有更多元素可供迭代，它会抛出 StopIteration 异常，表示迭代结束。

# list1 = [1,2,3]
r1 = range(3) #生成一个0,3的范围
print(r1)
l1 = list(r1)
print(l1)
l2 = list(range(1,10)) #生成1到10的数字
print(l2)
#iter 内部方法 传入一个list生成 迭代器
it1 = iter(l2) # iter方法传入一个list返回一个迭代器
print(it1)
res = it1.__next__()
print(res)
res = it1.__next__()
print(res)
res = next(it1)
print(res)
for x in it1:
    print(x)
#for in 迭代完毕以后,再取下一个元素,就会报错StopIteration 停止迭代
# res = next(it1)#报错,已经是最后一个元素了
# print(res)
# __next__ 方法的主要功能是返回迭代器的下一个元素。如果没有更多元素可供迭代，它会抛出 StopIteration 异常来表示迭代结束。这在处理大型数据集或者需要逐个处理元素的场景中非常有用，例如：
# 在 Python 里，以双下划线开头和结尾的方法被称为特殊方法或者魔法方法（Magic Methods）。__next__ 方法就属于这类特殊方法，它是迭代器协议的关键组成部分。当一个对象实现了 __next__ 方法，就意味着这个对象遵循了迭代器协议，可作为迭代器使用。
# 在 Python 中，迭代器并没有像 C、C++ 那样显式的 “指针” 概念，但从功能角度来说，迭代器内部有类似指针的机制来记录当前迭代的位置。下面从原理、示例和本质来详细分析。
# 原理分析
# 迭代器是一种遵循迭代器协议的对象，该协议要求迭代器实现 __iter__() 和 __next__() 方法。__iter__() 方法返回迭代器对象本身，而 __next__() 方法负责返回迭代器的下一个元素。为了知道下一个元素是什么，迭代器内部需要维护一个状态，这个状态就类似于指针，用于记录当前迭代到的位置。
# for item in it1:
#     print(item)
# # for 循环在迭代迭代器时，会不断调用迭代器的 __next__() 方法，从而执行迭代器里的内容，依次获取并处理每个元素，直到迭代结束。
# # 一旦迭代器被遍历完，再次使用这个迭代器进行迭代将不会有任何输出，因为它已经耗尽了所有元素。如果你需要再次遍历，可以重新创建迭代器（例如 it1 = iter(l2)）。
# print("戟把离手越进义父离你越远>---红字增幅+25----------)三(--> ")
#
# for item in it1:
#     print(item)